{"version":3,"sources":["webpack:///./routes/home/style.css","webpack:///./components/timer/index.tsx","webpack:///./routes/home/index.tsx","webpack:///./components/timer/style.css"],"names":["module","exports","home","Timer","_this","_Component","call","this","setState","timer","componentDidMount","reset","componentWillUnmount","clearInterval","state","set","ticks","props","toggle","_this2","setInterval","render","time","Date","toTimeString","match","Object","preact","class","style","onClick","bind","title","Component","empty","JSON","stringify","players","Array","ForEach","item","index","p7","seedEncode","slice","join","p9","Home","Match","href","Scoreboard","timer_Timer"],"mappings":"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","file":"route-home/index.tsx.chunk.fe9eb.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"home__2Q5nZ\"};","import { Component, h } from \"preact\";\r\nimport * as style from \"./style.css\";\r\n\r\ninterface IProps {\r\n    ticks: number;\r\n}\r\n\r\ninterface IState {\r\n    timer: number;\r\n    ticks: number;\r\n}\r\n\r\nexport default class Timer extends Component<IProps, IState>  {\r\n\r\n    constructor() {\r\n        super();\r\n        this.setState({\r\n            timer: 0\r\n        });\r\n    }\r\n\r\n    public componentDidMount() {\r\n        this.reset();\r\n    }\r\n\r\n    public componentWillUnmount() {\r\n        clearInterval(this.state.timer);\r\n    }\r\n\r\n    public set(ticks: number) {\r\n        const result = this.state.ticks || this.props.ticks;\r\n        this.setState({\r\n            ticks: result + ticks\r\n        });\r\n    }\r\n\r\n    public toggle() {\r\n        if (this.state.timer > 0) {\r\n            clearInterval(this.state.timer);\r\n            return this.setState({ timer: 0 });\r\n        }\r\n\r\n        const timer = setInterval(() =>\r\n            this.setState({ timer, ticks: this.state.ticks - 1000 }), 1000);\r\n    }\r\n\r\n    public reset() {\r\n        this.setState({\r\n            timer: 0,\r\n            ticks: this.props.ticks\r\n        });\r\n    }\r\n\r\n    public render(props: IProps, state: IState) {\r\n        const time = new Date(0, 0, 0, 0, 0, 0, state.ticks).toTimeString().match(/(^[^\\s]+)\\s/);\r\n        return (<div class={style.timer}>\r\n            <div>\r\n                <span>{time![0]}</span>\r\n            </div>\r\n            <div>\r\n                <button onClick={this.toggle.bind(this)} title=\"toggle\">{this.state.timer < 1 ? \"Start\" : \"Pause\"}</button>\r\n                <button onClick={this.set.bind(this, 15000)} title=\"increase\">+</button>\r\n                <button onClick={this.set.bind(this, -15000)} title=\"decrease\">-</button>\r\n            </div>\r\n        </div>);\r\n    }\r\n}\r\n","import { Component, h } from \"preact\";\r\nimport * as style from \"./style.css\";\r\nimport Scoreboard from \"../game/components/Scoreboard\";\r\nimport Match from \"../game/match\";\r\nimport Timer from \"../../components/timer\";\r\nimport { seedEncode } from \"../../components/components\";\r\n\r\ninterface IProps { }\r\n\r\ninterface IState {\r\n    match: Match;\r\n}\r\n\r\nconst empty = JSON.stringify(null);\r\nconst players = new Array<string>(4);\r\n\r\nplayers.ForEach((item, index) => {\r\n    players[index] = empty;\r\n});\r\n\r\nconst p7 = seedEncode([\r\n    players.slice(0, 1).join(\"|\"),\r\n    players.slice(0, 2).join(\"|\"),\r\n    players.slice(0, 3).join(\"|\"),\r\n    players.slice(0, 1).join(\"|\")\r\n].join(\";\"));\r\n\r\nconst p9 = seedEncode([\r\n    players.slice(0, 1).join(\"|\"),\r\n    players.slice(0, 3).join(\"|\"),\r\n    players.slice(0, 3).join(\"|\"),\r\n    players.slice(0, 2).join(\"|\")\r\n].join(\";\"));\r\n\r\nexport default class Home extends Component<IProps, IState> {\r\n    public state: IState = {\r\n        match: new Match(() => this.setState(this.state))\r\n    }\r\n\r\n    public render(props: IProps, state: IState) {\r\n        return (\r\n            <ul class={style.home}>\r\n                <fieldset>\r\n                    <legend>Lineup</legend>\r\n                    <li><a href={\"/game/\" + p7}>7 players </a></li>\r\n                    <li><a href={\"/game/\" + p9}>9 players</a></li>\r\n                </fieldset>\r\n                <fieldset>\r\n                    <legend>Demo</legend>\r\n                    <Scoreboard match={state.match} />\r\n                    <Timer ticks={25 * 1000 * 60}></Timer>\r\n                </fieldset>\r\n            </ul>\r\n        );\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timer\":\"timer__zbUaO\"};"],"sourceRoot":""}