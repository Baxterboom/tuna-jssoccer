{"version":3,"sources":["webpack:///./routes/home/style.css","webpack:///./components/timer/index.tsx","webpack:///./routes/home/index.tsx","webpack:///./components/timer/style.css"],"names":["module","exports","home","Timer","Component","constructor","super","this","setState","timer","componentDidMount","reset","componentWillUnmount","clearInterval","state","set","ticks","props","toggle","setInterval","render","time","Date","toTimeString","match","Object","preact","class","style","onClick","bind","title","empty","JSON","stringify","players","Array","ForEach","item","index","p7","seedEncode","slice","join","p9","Home","[object Object]","arguments","Match","href","Scoreboard","timer_Timer"],"mappings":"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","file":"route-home/index.tsx.chunk.2b267.esm.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"home\":\"home__2Q5nZ\"};","import { Component, h } from \"preact\";\r\nimport * as style from \"./style.css\";\r\n\r\ninterface IProps {\r\n    ticks: number;\r\n}\r\n\r\ninterface IState {\r\n    timer: number;\r\n    ticks: number;\r\n}\r\n\r\nexport default class Timer extends Component<IProps, IState>  {\r\n\r\n    constructor() {\r\n        super();\r\n        this.setState({\r\n            timer: 0\r\n        });\r\n    }\r\n\r\n    public componentDidMount() {\r\n        this.reset();\r\n    }\r\n\r\n    public componentWillUnmount() {\r\n        clearInterval(this.state.timer);\r\n    }\r\n\r\n    public set(ticks: number) {\r\n        const result = this.state.ticks || this.props.ticks;\r\n        this.setState({\r\n            ticks: result + ticks\r\n        });\r\n    }\r\n\r\n    public toggle() {\r\n        if (this.state.timer > 0) {\r\n            clearInterval(this.state.timer);\r\n            return this.setState({ timer: 0 });\r\n        }\r\n\r\n        const timer = setInterval(() =>\r\n            this.setState({ timer, ticks: this.state.ticks - 1000 }), 1000);\r\n    }\r\n\r\n    public reset() {\r\n        this.setState({\r\n            timer: 0,\r\n            ticks: this.props.ticks\r\n        });\r\n    }\r\n\r\n    public render(props: IProps, state: IState) {\r\n        const time = new Date(0, 0, 0, 0, 0, 0, state.ticks).toTimeString().match(/(^[^\\s]+)\\s/);\r\n        return (<div class={style.timer}>\r\n            <div>\r\n                <span>{time![0]}</span>\r\n            </div>\r\n            <div>\r\n                <button onClick={this.toggle.bind(this)} title=\"toggle\">{this.state.timer < 1 ? \"Start\" : \"Pause\"}</button>\r\n                <button onClick={this.set.bind(this, 15000)} title=\"increase\">+</button>\r\n                <button onClick={this.set.bind(this, -15000)} title=\"decrease\">-</button>\r\n            </div>\r\n        </div>);\r\n    }\r\n}\r\n","import { Component, h } from \"preact\";\r\nimport * as style from \"./style.css\";\r\nimport Scoreboard from \"../game/components/Scoreboard\";\r\nimport Match from \"../game/match\";\r\nimport Timer from \"../../components/timer\";\r\nimport { seedEncode } from \"../../components/components\";\r\n\r\ninterface IProps { }\r\n\r\ninterface IState {\r\n    match: Match;\r\n}\r\n\r\nconst empty = JSON.stringify(null);\r\nconst players = new Array<string>(4);\r\n\r\nplayers.ForEach((item, index) => {\r\n    players[index] = empty;\r\n});\r\n\r\nconst p7 = seedEncode([\r\n    players.slice(0, 1).join(\"|\"),\r\n    players.slice(0, 2).join(\"|\"),\r\n    players.slice(0, 3).join(\"|\"),\r\n    players.slice(0, 1).join(\"|\")\r\n].join(\";\"));\r\n\r\nconst p9 = seedEncode([\r\n    players.slice(0, 1).join(\"|\"),\r\n    players.slice(0, 3).join(\"|\"),\r\n    players.slice(0, 3).join(\"|\"),\r\n    players.slice(0, 2).join(\"|\")\r\n].join(\";\"));\r\n\r\nexport default class Home extends Component<IProps, IState> {\r\n    public state: IState = {\r\n        match: new Match(() => this.setState(this.state))\r\n    }\r\n\r\n    public render(props: IProps, state: IState) {\r\n        return (\r\n            <ul class={style.home}>\r\n                <fieldset>\r\n                    <legend>Lineup</legend>\r\n                    <li><a href={\"/game/\" + p7}>7 players </a></li>\r\n                    <li><a href={\"/game/\" + p9}>9 players</a></li>\r\n                </fieldset>\r\n                <fieldset>\r\n                    <legend>Demo</legend>\r\n                    <Scoreboard match={state.match} />\r\n                    <Timer ticks={25 * 1000 * 60}></Timer>\r\n                </fieldset>\r\n            </ul>\r\n        );\r\n    }\r\n}\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"timer\":\"timer__zbUaO\"};"],"sourceRoot":""}